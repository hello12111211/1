<!DOCTYPE html>
<html>
<head>
  <title>nothing going on here</title>
  <style>
    body { font-family: sans-serif; padding: 20px; }
    #log {
      white-space: pre-wrap;
      margin-top: 10px;
      border: 1px solid #ccc;
      padding: 10px;
    }
    button { margin-top: 10px; }
  </style>
</head>
<body>
  <h1>Recorded Keypresses</h1>
  <div id="log">Loading...</div>
  <button onclick="clearLog()">Clear Keys</button>

  <script>
    function loadLog() {
      const logs = JSON.parse(localStorage.getItem("keyLogs") || "[]");
      if (logs.length === 0) {
        document.getElementById("log").textContent = "No keypresses recorded yet.";
        return;
      }

      const grouped = {};
      for (const entry of logs) {
        if (!grouped[entry.page]) grouped[entry.page] = [];
        grouped[entry.page].push(entry);
      }

      let output = "";
      for (const [page, entries] of Object.entries(grouped)) {
        output += `From: ${page}\n`;
        output += entries.map(e => `${e.key} @ ${e.time}`).join("\n") + "\n\n";
      }

      document.getElementById("log").textContent = output;
    }

    function clearLog() {
      localStorage.removeItem("keyLogs");
      loadLog();
    }

    loadLog();
  </script>
</body>
</html>
